<style>

.files{
    margin-top: 10px;
    margin-bottom: 10px;
    border:solid 1px #DEDEDE;
    background:#E0ECEE;
    /*color:#222222;*/
    color: #C15119;
    padding:4px;
    text-align:left;
}

.l{
    float: left;
    width: 220px;
    font-weight: bold;
    font-size: 13px;
}

.l2{
    float: left;
    width: 10px;
    font-weight: bold;
    font-size: 13px;
    margin-left:5px;
    margin-right:5px;
}

.body {
    /*width: 720px;*/
    overflow: auto;
}
.title {
    width: 100%;
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 10px;
}
.etc {
    width: 100%;
}

.mid-etc {
    width:80%;
    margin-left : 25%;
}

.blok {

    font-size: 12px;
    font-weight: bold;
    margin-bottom: 2px;
}

.bottomline{
    background-color:#FFFFFF;
    border-bottom: 1px solid #fff;
    border-top: 1px solid #fff;
    border-left: 1px solid #fff;
    border-right: 1px solid #fff;
    text-decoration: underline;
}


.last-reject{
    margin-top: 10px;
    margin-bottom: 10px;
    border:solid 1px #DEDEDE;
    background:#EFEFEF;
    /*color:#222222;*/
    color: #C15119;
    padding:4px;
    text-align:left;
}
.all-reject{
    margin-top: 10px;
    margin-bottom: 10px;
    border:solid 1px #DEDEDE;
    background:#F6CBCA;
    color:#222222;
    padding:4px;
    text-align:left;
}
.all-approve{
    margin-top: 10px;
    margin-bottom: 10px;
    border:solid 1px #DEDEDE;
    /*background:#CEE6C3;*/
    color:#222222;
    padding:4px;
    text-align:left;
    height: 200px;
    overflow: auto;
}

.ketin {
    width: 100%;
    font-size: 12px;
    font-weight: bold;
    background-color:#FBF0A5;
}
.ketin fieldset p {
    padding: 10px 10px 10px 10px;
}

.left {
    float: left;
    width: 48%;
}
.right {
    float: right;
    width: 48%;
}

#create-info {
    font-size: 12px;
    margin-left: 10px;
    margin-bottom: 10px;
}

#create-info label{
    font-weight: bold;
}

#supplier-info{
    font-size: 14px;
    width: 100%;
    margin-bottom: 10px;
}

#supplier-info legend{
    font-weight: bold;
}

#supplier-info ol
{
    margin-left: 10px;
    margin-top: 10px;
    margin-bottom: 10px;
}

#supplier-info label
{
    font-weight: bold;
    font-size: 12px;
}

#supplier-size{
    font-size: 14px;
    width: 100%;
    margin-bottom: 10px;
}

#supplier-size legend{
    font-weight: bold;
}

#supplier-size ol
{
    margin-left: 10px;
    margin-top: 10px;
    margin-bottom: 10px;
}

#supplier-size label
{
    font-weight: bold;
    font-size: 12px;
}

#supplier-bank{
    font-size: 14px;
    width: 100%;
    margin-bottom: 10px;
}

#supplier-bank legend{
    font-weight: bold;
}

#supplier-bank ol
{
    margin-left: 10px;
    margin-top: 10px;
    margin-bottom: 10px;
}

#supplier-bank label
{
    font-weight: bold;
    font-size: 12px;
}

#status-info{
    font-weight: bold;
    font-size: 12px;
}

#status-info legend{
    font-weight: bold;
}

#status-info table{
    margin-left: 10px;
}

#status thead {
        background-color: #333;
    }

#bodytable {
    overflow: auto;
    height: 160px;
    font-size: 8px;
}

#bodytable thead{
    font-size: 12px;
    font-weight: bold;;
}

#bodytable tbody{
    font-size: 12px;
}

.notif
{
    -moz-border-radius: 15px;
    border-radius: 15px;
    -webkit-border-radius: 15px;
    background:#E0ECEE;
}

.notif legend
{
    margin-left: 6px;
}

</style>

<link rel="stylesheet" type="text/css" href="/css/table.css"/>

<div class="body">

    <div align="right"><img src="/images/qdc.gif" alt= "logo qdc" /></div>
    <div class="title">Detail Payment Report</div>
    
    <?php if ($this->file != '') { ?>
        <div class="files">
            Attachment Files :<br />
            <ul>
                <?php foreach ($this->file as $key => $val) { ?>
                    <li>- <a href="#" onclick="window.open('/default/file/download/path/files/filename/<?php echo $val['savename']; ?>', 'mywin', 'left=20,top=20,width=100,height=20,toolbar=0,resizable=0');"><?php echo $val['filename']; ?></a></li>
                <?php } ?>
            </ul>
        </div>
    <?php } ?>

    <div id="supplier-info">

        <fieldset class="notif">
            <legend>Transaction Detail</legend>
            <ol>
                <li><label>Type : </label><?=$this->type?></li>
                <li><label>Trano : </label><?= $this->datamain[0]['trano'] ?></li>
                <li><label>Created Date : </label><?= ($this->datamain[0]['tgl'] != '') ? date("d M Y", strtotime($this->datamain[0]['tgl'])) : '' ?></li>
                <li><label>Value : </label><?= $this->datamain[0]['val_kode'] ?> <?= ($this->datamain[0]['value'] != '') ? number_format($this->datamain[0]['value'], 2) : '0' ?></li>
                <li><label>Holding Tax : </label><?= $this->datamain[0]['val_kode'] ?> <?= ($this->datamain[0]['holding_tax_val'] != '') ? number_format($this->datamain[0]['holding_tax_val'], 2) : '0' ?></li>
                <li><label>Deduction : </label><?= $this->datamain[0]['val_kode'] ?> <?= ($this->datamain[0]['deduction'] != '') ? number_format($this->datamain[0]['deduction'], 2) : '0' ?></li>
                <li><label>VAT : </label><?= $this->datamain[0]['val_kode'] ?> <?= ($this->datamain[0]['ppn'] != '') ? number_format($this->datamain[0]['ppn'], 2) : '0' ?></li>
            </ol>
            <label>Total Transaction : </label><?= number_format(floatval($this->datamain[0]['value'])-floatval($this->datamain[0]['holding_tax_val'])-floatval($this->datamain[0]['deduction'])+floatval($this->datamain[0]['ppn']), 2) ?>
        </fieldset>

    </div><!-- end supplier info -->

    <div id="supplier-size">

        <fieldset class="notif">
            <legend>Payment Voucher (BPV)</legend>
            <?php if ($this->databpv) { $totalbpv = 0; foreach ($this->databpv as $key => $val) { ?>
                <ul>
                <li><label>Voucher Transaction No : </label><?= $val['trano'] ?></li>
                <li><label>Voucher Value : </label><?= $val['valuta'] ?> <?= ($val['total'] != '') ? number_format($val['total'], 2) : '0' ?> <b>(Including VAT if any)</b></li>
                <!-- <li><label>Holding Tax : </label><?= $val['valuta'] ?> <?= ($val['hodling_tax_val'] != '') ? number_format($val['hodling_tax_val'], 2) : '0' ?></li> -->
                <!-- <li><label>Deduction : </label><?= $val['valuta'] ?> <?= ($val['deduction'] != '') ? number_format($val['deduction'], 2) : '0' ?></li> -->
                </ul>
            <?php $totalbpv += floatval($val['total']); }}?>
            <label>Total BPV : </label><?= number_format($totalbpv, 2) ?>
        </fieldset>

    </div><!-- end supplier size -->

    <div id="supplier-bank">

        <fieldset class="notif">
            <legend>Payment</legend>
            <ol style="list-style-type:disc">
                <?php
                if ($this->datapayment) {
                    $totalpayment = 0;
                    foreach ($this->datapayment as $key => $val) {
                        ?>
                        <li><label>Payment Transaction No : </label><?= $val['trano'] ?></li>
                        <li><label> Payment Date : </label><?= 
                                ($val['tgl']?date("d M Y", strtotime($val['tgl'])) : '-')
                                ?></li>
                        <li><label>Payment Value : </label><?= $val['val_kode'] ?> <?= ($val['total_payment'] != '') ? number_format($val['total_payment'], 2) : '0' ?></li>
                        <br />
                        <?php
                        $totalpayment += $val['total_payment'];
                    }
                }
                ?>
                </ol>
            <label>Total Payment : </label><?= number_format($totalpayment, 2) ?>
        </fieldset>

    </div>


</div>

