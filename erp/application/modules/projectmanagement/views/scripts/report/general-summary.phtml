<?php
if (count($this->result) == 0)
{
	echo "No Data to display...";
	die();
}
?>
<style type="text/css">
		.tooltip {
			border-bottom: 1px dotted #000000; color: #000000; outline: none;
			cursor: help; text-decoration: none;
			position: relative;
		}
		.tooltip span {
			margin-left: -999em;
			position: absolute;
		}
		.tooltip:hover span {
			border-radius: 5px 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;
			box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.1); -webkit-box-shadow: 5px 5px rgba(0, 0, 0, 0.1); -moz-box-shadow: 5px 5px rgba(0, 0, 0, 0.1);
			font-family: Calibri, Tahoma, Geneva, sans-serif;
			position: absolute; left: 1em; top: 2em; z-index: 99;
			margin-left: 0; 
		}
		.tooltip:hover img {
			border: 0; margin: -10px 0 0 -55px;
			float: left; position: absolute;
		}
		.tooltip:hover em {
			font-family: Candara, Tahoma, Geneva, sans-serif; font-size: 1.2em; font-weight: bold;
			display: block; padding: 0.2em 0 0.6em 0;
		}
		.info { padding: 0.8em 1em; }
		.custom { padding: 0.5em 0.8em 0.8em 2em; }
		* html a:hover { background: transparent; }
		.info {background: #FFFFAA; border: 1px solid #FFAD33; }
		</style>
<style type="text/css">
.cache{
    margin-top: 10px;
    margin-bottom: 10px;
    border:solid 1px #DEDEDE;
    background:#EFEFEF;
    /*color:#222222;*/
    color: #C15119;
    padding:4px;
    text-align:left;
}
.parentContainer { /* The parent container */
    margin: 5px;
    padding: 0px;
    border: none;
    width: 840px; /* Required to set */
    height: 430px; /* Required to set */
    overflow: hidden; /* Required to set */
	font-size: 14px;
}

</style>

<?php
if ($this->time != '') {
?>
<div class="cache">
<b>This Report is generated from cache, If there any changes to the data beetween <?=$this->time['generate']?> and <?=$this->time['expire']?> will not shown here.<br>
Cache will expire at <?=$this->time['expire']?></b>
</div>
<?php } ?>

<?php if ($this->salary > 0) { ?>
    <b>Total Salary : IDR <?=number_format($this->salary,2)?></b>
<?php } ?>

<div class="parentContainer">
<table id="budgetTable" class="budgetTable">
    <thead>
    	<tr>
            <th rowspan="2"><b>No.</b></th>
            <th scope="col" class="rounded-q2" rowspan="2"><b>Site</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>Budget</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>PR</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>PO</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>RPI</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>ARF</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>ASF</b></th>
            <th scope="col" class="rounded-q2" colspan="2"><b>ASF Cancel</b></th>
        </tr>
		<tr>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
            <th scope="col" class="rounded-q1">Total IDR</th>
            <th scope="col" class="rounded-q1">Total USD</th>
		</tr>


    </thead>

    <div style="overflow-y:auto">
    <tbody>
    <?php
        $no = 1;
        foreach($this->result as $k => $val)
        {
    ?>
            <tr>
                <td align="right"><?=$no?></td>
                <td><?=wordwrap($k . " - " . $val['sit_nama'],75,"<br>")?></td>
                <td align="right"><?=number_format($val['boq3']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['boq3']['USD'],2)?></td>
                <td align="right"><?=number_format($val['pr']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['pr']['USD'],2)?></td>
                <td align="right"><?=number_format($val['po']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['po']['USD'],2)?></td>
                <td align="right"><?=number_format($val['rpi']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['rpi']['USD'],2)?></td>
                <td align="right"><?=number_format($val['arf']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['arf']['USD'],2)?></td>
                <td align="right"><?=number_format($val['asf']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['asf']['USD'],2)?></td>
                <td align="right"><?=number_format($val['asfc']['IDR'],2)?></td>
                <td align="right"><?=number_format($val['asfc']['USD'],2)?></td>
            </tr>
            <?php

            $no++;
        }

    ?>

<!--    TOTAL -->
    <tr style="background-color: #CFDCEE">
        <td colspan="2" align="center"><b>TOTAL</b></td>
        <td align="right"><b><?=number_format($this->total['boq3']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['boq3']['USD'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['pr']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['pr']['USD'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['po']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['po']['USD'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['rpi']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['rpi']['USD'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['arf']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['arf']['USD'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['asf']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['asf']['USD'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['asfc']['IDR'],2)?></b></td>
        <td align="right"><b><?=number_format($this->total['asfc']['USD'],2)?></b></td>
    </tr>
    </tbody>
    <tfoot>

    </tfoot>
    </div>
</table>
</div>
<? //$this->paging($this->pageUrl,$this->totalResult,$this->limitPerPage,$this->current,$this->currentPage)?>
<script type="text/javascript">
//<![CDATA[
resizeTable("parentContainer");
(function() {
	var mySt = new superTable("budgetTable", {
		cssSkin : "sSky",
		fixedCols : 4,
		headerRows : 2
	});
})();

//]]>
</script>