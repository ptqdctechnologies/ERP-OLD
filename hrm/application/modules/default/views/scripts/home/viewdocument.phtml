<link rel="stylesheet" type="text/css" href="/js/layout/ux/treegrid/treegrid.css" rel="stylesheet" />
<script type="text/javascript" src="/js/layout/ux/treegrid/TreeGridSorter.js"></script>
<script type="text/javascript" src="/js/layout/ux/treegrid/TreeGridColumnResizer.js"></script>
<script type="text/javascript" src="/js/layout/ux/treegrid/TreeGridNodeUI.js"></script>
<script type="text/javascript" src="/js/layout/ux/treegrid/TreeGridLoader.js"></script>

<script type="text/javascript" src="/js/layout/ux/treegrid/TreeGridColumns.js"></script>
<script type="text/javascript" src="/js/layout/ux/treegrid/TreeGrid.js"></script>
<script type="text/javascript" src="/js/layout/ux/RowActions.js"></script>
<link rel="stylesheet" type="text/css" href="/js/layout/ux/css/RowActions.css" />

<script type="text/javascript">

showMyDocument = function(){
    myPanel = Ext.getCmp('abs-budget-panel');
    myPanel.body.load({
        url: '/default/home/showmydocument',
        scripts : true
    });
};

showMyDocumentWorkflow = function(){
    myPanel = Ext.getCmp('abs-budget-panel');
    myPanel.body.load({
        url: '/default/home/showmydocumentworkflow',
        scripts : true
    });
};

showProcessDocument = function(){
    myPanel = Ext.getCmp('abs-budget-panel');
    myPanel.body.load({
        url: '/default/home/showprocessdocument',
        scripts : true
    });
};

var windowForm =  ({

    title: 'My Document',
    id: 'abs-budget-panel',
    layout: 'fit',
    bodyCfg : { cls:'xpanel-body-table' , style: {'overflow':'auto'}},
    bodyStyle: 'padding:15px;',
    loadMask: true,
    minWidth: 300,
    minHeight: 200,
    tbar: [
			{
			    xtype: 'tbbutton',
			    text: 'Select Action',
			    iconCls: 'menu-drop',
			    menu: {
			
			    items: [   
						{
						    id: 'show_button',
						    text: 'Show My Submitted Document',
						    cls:"x-btn-text-icon" ,
						    icon:"/images/icons/fam/grid.png",
						    handler:showMyDocument
						}
                        ,{
						    id: 'show_button2',
						    text: 'Show Document in My Workflow',
						    cls:"x-btn-text-icon" ,
						    icon:"/images/icons/fam/grid.png",
						    handler:showMyDocumentWorkflow
						}
						,{
						    id: 'fill_button',
						    text: 'Process Document',
						    cls:"x-btn-text-icon" ,
						    icon:"/images/icons/fam/action_paste.gif",
						    handler:showProcessDocument
						}
					]
				}
			}
           ]

});
viewPort = Ext.getCmp('viewport');

centerRegionTab = viewPort.getComponent('content-panel');
centerRegionTab.items.each(function(c){centerRegionTab.remove(c);});
centerRegionTab.add(windowForm);
panelBaru = Ext.getCmp('abs-budget-panel');
centerRegionTab.layout.setActiveItem('abs-budget-panel');
//myPanel = Ext.getCmp('abs-budget-panel');
//myPanel.body.load({
//    url: '/projectmanagement/timesheet/showmytimesheet',
//    scripts : true
//});

<?php if ($this->processDocument) {
?>
    showProcessDocument();
<?php
}
?>
<?php if ($this->assistant) {
?>
    myPanel = Ext.getCmp('abs-budget-panel');
    myPanel.body.load({
        url: '/default/home/showassistantdocument',
        scripts : true
    });
<?php
}
?>
</script>